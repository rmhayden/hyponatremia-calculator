<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hyponatremia Calculator</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script defer src="script.js"></script>
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>
      <!-- does it matter which comes first? -->
</head>

<body>

<div class="top-cover"></div>

<div class="columns" id="main-body">

<div class="column-1">
  <table class="first-table">
    <h3><strong class="center gap-below">B<small>ASELINE </small> &nbsp; C<small>HARACTERISTICS</small></strong></h3>
     <tr>
        <td>
          <label for="weight-value-input">Dry Weight (kg)</label>
          </td>
          <td>
          <input id="weight-value-input" name="weight-value-input" placeholder="">
        </td>
      </tr>
      <tr>
        <td>
          <label for="sex-value-input">Biological Sex</label>
          </td>
          <td>
            <select name="sex-value-input" id="sex-value-input">
              <option value="male"></option>
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
        </td>
      </tr>
    </table>
    <div class="center-button">
    <button class="set-baseline-button" type="button"><h5>Set Baseline</h5></button>
    </div>
   <br>
   <br>
   <table class="second-table">
    <hr class="faint-line">
    <h3><strong class="center gap-below">I<small>NITIAL</small>&nbsp;V<small>ALUES</small></strong></h3>
    <tr>
      <td>
      <label for="time-zero-value-input">Time</label>
      </td>
      <td>
      <input disabled="true" type="time" class="time-input" id="time-zero-value-input" name="time-zero-value-input" placeholder="">
    </td>
   </tr>
    <tr>
        <td>
        <label for="serum-sodium-value-input">Serum Sodium</label>
        </td>
        <td>
        <input disabled="true" id="serum-sodium-value-input" name="serum-sodium-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <label id="serum-potassium-value-input" for="serum-potassium-value-input">Serum Potassium</label>
        </td>
        <td>
        <input id="serum-potassium-value-input" name="serum-potassium-value-input" placeholder="">
      </td>
     </tr>

     <tr class="disable">
      <td>
        <label for="">Etiology</label>
      </td>
      <td>
      <input id="" name="" class="longer-input" placeholder="SIADH (for now)">
    </td>
   </tr>
     
     <tr class="disable">
      <td>
        <label for="pre-interval-weight-value-input">Weight (kg)</label>
      </td>
      <td>
      <input id="pre-interval-weight-value-input" name="pre-interval-weight-value-input" placeholder="">
    </td>
   </tr>
     <tr>
      <td>
        <label id="ecf-volume-value-input" for="ecf-volume-value-input">ECF Volume</label>
      </td>
      <td>
      <input type="range" id="ecf-volume-value-input" name="ecf-volume-value-input" min="-60" max="150" value="0">
      </td>
   </tr>
   </table>
   <div class="center-button">
   <button disabled="disabled" class="set-initial-state-button" type="button"><h5>Set Initial Values</h5></button>
   </div>
   <br>
   <br>
   <hr class="faint-line-2">
   <h3><strong class="center gap-below">P<small>RE-</small>I<small>NTERVAL</small>&nbsp;V<small>ALUES</small></strong></h3>

   <table class="third-table">
    <tr>
      <td>
      <label for="serum-sodium-pre-interval-input">Serum Sodium</label>
      </td>
      <td>
      <input disabled="true" id="serum-sodium-pre-interval-input" name="serum-sodium-pre-interval-input" placeholder="">
    </td>
   </tr>
   <tr>
      <td>
        <label class="disable" id="serum-potassium-pre-interval-input" for="serum-potassium-pre-interval-input">Serum Potassium</label>
      </td>
      <td>
      <input class="disable" id="serum-potassium-pre-interval-input" name="serum-potassium-pre-interval-input" placeholder="">
    </td>
   </tr>
 <tr>
    <td>
      <label for="urine-osm-value-input">Urine Osm.</label>
    </td>
    <td>
    <input disabled="true" id="urine-osm-value-input" name="urine-osm-value-input" placeholder="">
  </td>
 </tr>
 <tr>
    <td>
      <label for="urine-sodium-value-input">Urine Na</label>
    </td>
    <td>
    <input disabled="true" id="urine-sodium-value-input" name="urine-sodium-value-input" placeholder="">
  </td>
 </tr>
 <tr>
    <td>
      <label for="urine-potassium-value-input">Urine K</label>
    </td>
    <td>
    <input disabled="true" id="urine-potassium-value-input" name="urine-potassium-value-input" placeholder="">
  </td>
 </tr>
</table>
<div class="center-button">
<button disabled="false" class="set-pre-interval-button" type="button"><h5>Set Pre-Interval Values</h5></button>
</div>
  
      <table class="hide">
        <div class="hide">Total Interval Solute Ins (Manual)</div>
          <tr>
              <td>
                <label for="na-cl-manual-value-input">NaCl (mEq)</label>
              </td>
              <td>
              <input id="na-cl-manual-value-input" name="na-cl-manual-value-input" placeholder="">
            </td>
          </tr>
          <tr>
            <td>
              <label id="potassium-manual-value-input" for="potassium-manual-value-input">KCl (mEq)</label>
            </td>
            <td>
            <input id="potassium-manual-value-input" name="potassium-manual-value-input" placeholder="">
          </td>
        </tr>
      </table>
      <table class="hide">
        <div class="hide">Total Interval Water In (Manual)</div>
        <tr>
            <td>
              <label for="water-manual-value-input">Water (L)</label>
            </td>
            <td>
            <input id="water-manual-value-input" name="water-manual-value-input" placeholder="">
          </td>
        </tr>
      </table>
      <br>
      <br> 
      <table class="fourth-table">
  <hr class="faint-line-3">
  <h3><strong class="center gap-below">I<small>NTERVAL</small>&nbsp;E<small>FFECTS</small></strong></h3>
    
     <tr>
        <td>
          <label id="salt-tabs-value-input" for="salt-tabs-value-input">Salt Tabs</label>
        </td>
        <td>
        <input id="salt-tabs-value-input" name="salt-tabs-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <label id="urea-packets-value-input" for="urea-packets-value-input">Urea Packets</label>
        </td>
        <td>
        <input id="urea-packets-value-input" name="urea-packets-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <label id="potassium-caps-value-input" for="potassium-caps-value-input">KCl (mEq)</label>
        </td>
        <td>
        <input id="potassium-caps-value-input" name="potassium-caps-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <label id="ddavp-value-input" for="ddavp-value-input">DDAVP</label>
        </td>
        <td>
        <input id="ddavp-value-input" name="ddavp-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <div class="inline">
          <label for="d5w-value-input">D5W</label>
           <div class="left-justify toggle-button">
            &nbsp;<button disabled="true" id="d5w-rate-button" class="pointer-events-none"><small>rate (cc/hr)</small></button>
            <button id="d5w-bolus-button" class="pointer-events-none"><small>bolus (cc)</small></button>
          </div>
         </div>
        </td>
        <td>
        <input disabled="true"  id="d5w-value-input" name="d5w-value-input" placeholder="">
       </td>
     </tr>
     <tr>
        <td>
        <div class="inline">
          <label for="normal-saline-value-input">NS</label>
          <div class="left-justify toggle-button">
            &nbsp;<button disabled="true" id="normal-saline-rate-button" class="pointer-events-none"><small>rate (cc/hr)</small></button>
            <button id="normal-saline-bolus-button" class="pointer-events-none"><small>bolus (cc)</small></button>
          </div>
         </div>
        </td>
        <td>
        <input disabled="true"  id="normal-saline-value-input" name="normal-saline-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <div class="inline">
          <label id="half-normal-saline-value-input" for="half-normal-saline-value-input"><small>1/2-</small>NS</label>
          <div class="left-justify toggle-button">
            &nbsp;<button disabled="true" id="half-normal-saline-rate-button" class="pointer-events-none"><small>rate (cc/hr)</small></button>
            <button id="half-normal-saline-bolus-button" class="pointer-events-none"><small>bolus (cc)</small></button>
          </div>
         </div>
        </td>
        <td>
        <input id="half-normal-saline-value-input" name="half-normal-saline-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <div class="inline">
          <label id="LR-value-input" for="LR-value-input">LR</label>
          <div class="left-justify toggle-button">
            &nbsp;<button disabled="true" id="LR-rate-button" class="pointer-events-none"><small>rate (cc/hr)</small></button>
            <button id="LR-bolus-button" class="pointer-events-none"><small>bolus (cc)</small></button>
          </div>
         </div>
        </td>
        <td>
        <input id="LR-value-input" name="LR-value-input" placeholder="">
      </td>
     </tr>
     <tr>
        <td>
          <div class="inline">
          <label for="hypertonic-value-input"><small>3% sal.</small></label>
          <div class="left-justify toggle-button">
            &nbsp;<button disabled="true" id="hypertonic-rate-button" class="pointer-events-none"><small>rate (cc/hr)</small></button>
            <button id="hypertonic-bolus-button" class="pointer-events-none"><small>bolus (cc)</small></button>
          </div>
         </div>
        </td>
        <td>
        <input disabled="true"  id="hypertonic-value-input" name="hypertonic-value-input" placeholder="">
      </td>
     </tr>
     <tr>

      <td>
        <br>
        <label for="urine-output-value-input">Urine Output (cc/hr)</label>
      </td>
      <td>
        <br>
      <input disabled="true"  id="urine-output-value-input" name="urine-output-value-input" placeholder="">
    </td>
   </tr>


   <tr>
    <td>
      <br>
    <label for="end-time-value-input">Interval End Time</label>
    </td>
    <td>
      <br>
    <input disabled="true" type="time" class="time-input-2" id="end-time-value-input" name="end-time-value-input" placeholder="">
  </td>
 </tr>

   </table>
<div class="center-button">
<button disabled="true" class="run-interval-button" type="button"><h5>Set Interval Effects</h5></button>
</div>
<br>
<br>
</div>  




<div class="column-2">
  <div class="column-2-upper">
    <div class="center">
      <h4>I<small>DEAL</small>&nbsp;S<small>TATE</small></h4>
    </div>
   <div class="column-2-upper-left">
    <div class="inline"><p>Ideal TBW:&nbsp;</p><p id="output-ideal-tbw"></p></div>
    <div class="inline"><p>Ideal ICW:&nbsp;</p><p id="output-ideal-icf"></p></div>
    <div class="inline"><p>Ideal ECW:&nbsp;</p><p id="output-ideal-ecf"></p></div>
    <div>
      <p class="comment" id="ideal-comments"></p>
     </div>
  </div>
   <div class="column-2-upper-right">
    <div class="inline"><p>Ideal TB Solute:&nbsp;</p><p id="output-ideal-tbosm"></p></div>
    <div class="inline"><p>Ideal IC Solute:&nbsp;</p><p id="output-ideal-icosm"></p></div>
    <div class="inline"><p>Ideal EC Solute:&nbsp;</p><p id="output-ideal-ecosm"></p></div>
   </div>
  </div>
  <div class="column-2-middle">
    <div class="center">
      <h4>I<small>NITIAL</small>&nbsp;S<small>TATE</small></h4>
    </div>
   <div class="column-2-middle-left">
    <div class="inline"><p>TBW:&nbsp;</p><p id="output-initial-tbw"></p></div>
    <div class="inline"><p>ICW:&nbsp;</p><p id="output-initial-icf"></p></div>
    <div class="inline"><p>ECW:&nbsp;</p><p id="output-initial-ecf"></p></div>
    <br>
    <div class="inline"><p>Serum Sodium:&nbsp;</p><p id="output-initial-sodium"></p><p id="time-zero-value-output"></p></div>
    <div class="inline disable"><p>Serum Potassium:&nbsp;</p><p id="output-initial-potassium"></p></div>
    <div>
      <p class="comment" id="initial-comments"></p>
     </div>
  </div>
   <div class="column-2-middle-right">
    <div class="inline"><p>TB Solute:&nbsp;</p><p id="output-initial-tbosm"></p></div>
    <div class="inline"><p>IC Solute:&nbsp;</p><p id="output-initial-icosm"></p></div>
    <div class="inline"><p>EC Solute:&nbsp;</p><p id="output-initial-ecosm"></p></div>
    </div>
  </div>
  <div class="column-2-middle-2">
    <div class="center">
    
      <div class="fixed-width">
        <h4>P<small>RE-</small>I<small>NTERVAL</small>:</h4>
        <h4>&nbsp;</h4>
        <h4 style="font-weight: lighter" id="render-pre-interval-current-time"></h4>
      </div>
    </div>
    <div class="column-2-middle-2-left">
      <div class="inline"><p>TBW:&nbsp;</p><p id="output-pre-interval-tbw"></p></div>
      <div class="inline"><p>ICW:&nbsp;</p><p id="output-pre-interval-icf"></p></div>
      <div class="inline"><p>ECW:&nbsp;</p><p id="output-pre-interval-ecf"></p></div>
      <br>
      <div class="inline font-normal-size">
        <p>Serum Sodium:&nbsp;</p><p id="output-pre-interval-sodium"></p><p id="time-zero-value-output"></p>
      </div>
      <div class="inline disable font-normal-size"><p>Serum Potassium:&nbsp;</p><p id="output-pre-interval-potassium"></p></div>
      <div class="inline font-normal-size"><p>Urine Tonicity:&nbsp;</p><p id="output-pre-interval-urine-tonicity"></p></div>
      <div>
        <br>
        <p class="comment" id="pre-interval-comments"></p>
       </div>
    </div>
     <div class="column-2-middle-2-right">
      <div class="inline"><p>TB Solute:&nbsp;</p><p id="output-pre-interval-tbosm"></p></div>
      <div class="inline"><p>IC Solute:&nbsp;</p><p id="output-pre-interval-icosm"></p></div>
      <div class="inline"><p>EC Solute:&nbsp;</p><p id="output-pre-interval-ecosm"></p></div>
      </div> 
  </div>
  <div class="column-2-lowest">
    <div class="center">
      <div class="fixed-width-2">
        <h4>P<small>OST-</small>I<small>NTERVAL:</small></h4>
        <h4>&nbsp;</h4>
        <h4 style="font-weight: lighter" id="render-post-interval-time"></h4>
      </div>
    </div>

    <div class="column-2-lowest-left">
      <div class="inline"><p>TBW:&nbsp;</p><p id="output-post-interval-tbw"></p></div>
      <div class="inline"><p>ICW:&nbsp;</p><p id="output-post-interval-icf"></p></div>
      <div class="inline"><p>ECW:&nbsp;</p><p id="output-post-interval-ecf"></p></div>
      <br>
      <br>
      <div class="inline font-normal-size"><p>Predicted Serum Sodium:&nbsp;</p><p id="output-post-interval-sodium"></p><p id="time-zero-value-output"></p></div>

      <div class="inline">

        <label for="measured-post-interval-sodium" class="font-normal-size"><p>Actual Measured Sodium:</p></label>
          <p>&nbsp;</p>
      <input disabled="true"  id="measured-post-interval-sodium" name="measured-post-interval-sodium" placeholder=""> <p><small>mEq/L</small></p>
      </div>
      <br>
      <div class="inline disable font-normal-size"><p>Serum Potassium:&nbsp;</p><p id="output-post-interval-potassium"></p></div>      
      <div>

      <div class="inline font-normal-size"><p>Interval Duration:&nbsp;</p><p id="interval-duration"></p></div>
        <p class="comment" id="post-interval-comments"></p>
       </div>

       <div class="ai-predicted-sodium-div">
        <div class="inline font-normal-size"><p>A.I. Predicted Sodium:&nbsp;</p><p id="ai-predicted-sodium"></p></div>
       </div>


    </div>
     <div class="column-2-lowest-right">
      <div class="inline"><p>TB Solute:&nbsp;</p><p id="output-post-interval-tbosm"></p></div>
      <div class="inline"><p>IC Solute:&nbsp;</p><p id="output-post-interval-icosm"></p></div>
      <div class="inline"><p>EC Solute:&nbsp;</p><p id="output-post-interval-ecosm"></p></div>
    </div> 

  </div>
</div>

<div class="column-3">

  <h3><strong class="center gap-below">F<small>LUID </small> &nbsp; C<small>OMPARTMENT</small>&nbsp;M<small>ODELS</small></strong></h3>


    <div id="compartment-model-1-div">
      <div id="compartment-model-1-outside-box">
        <div class="inline icf-ecf">
          <p>ICF</p>
          <div class="space"></div>
          <p>ECF</p>
        </div>
        <div class="compartments-title center">
          <h5>I<small>NITIAL</small>&nbsp;S<small>TATE</small></h5>
        </div>
        <div id="compartment-model-1-grouping-container">
          <div id="compartment-model-1-icf-box"></div>
          <div id="compartment-model-1-ecf-box"></div>
          <div id="compartment-model-1-midline-solid"></div>
        </div>
        <div id="compartment-model-1-midline-dotted"></div>
      </div>
    </div>

    <div id="compartment-model-2-div">
      <div id="compartment-model-2-outside-box">
        <div class="inline icf-ecf">
          <p>ICF</p>
          <div class="space"></div>
          <p>ECF</p>
        </div>
        <div class="compartments-title center">
          <h5>P<small>RE-</small>I<small>NTERVAL</small>&nbsp;S<small>TATE</small></h5>
        </div>
        <div id="compartment-model-2-grouping-container">
          <div id="compartment-model-2-icf-box"></div>
          <div id="compartment-model-2-ecf-box"></div>
          <div id="compartment-model-2-midline-solid"></div>
        </div>
        <div id="compartment-model-2-midline-dotted"></div>
      </div>
    </div>


      <div id="compartment-model-3-outside-box">
        <div class="inline icf-ecf">
          <p>ICF</p>
          <div class="space"></div>
          <p>ECF</p>
        </div>
        <div class="compartments-title center">
          <h5>P<small>OST-</small>I<small>NTERVAL</small>&nbsp;S<small>TATE</small></h5>
        </div>
        <div id="compartment-model-3-div">
        <div id="compartment-model-3-grouping-container">
          <div id="compartment-model-3-icf-box"></div>
          <div id="compartment-model-3-ecf-box"></div>
          <div id="compartment-model-3-midline-solid"></div>
        </div>
        <div id="compartment-model-3-midline-dotted"></div>
      </div>
    </div>

</div>

</div>

   <br>
   <br>
   <br>
   <br>

   <div class="compartments-explanation">
    <p>Dotted lines depict ICF and ECF volumes at ideal state. Blue and green transparent boxes comparatively illustrate the ICF and ECF, respectively, for the initial, pre-interval, and post-interval states.</p>  
  </div>

<footer>

<div class="footer-nav-bar">


  <h2 class="logo">K<small>IDNEY</small>C<small>ALC</small></h2>

 <div class="flex-right">
  <div class="footer-render-interval-number">
    <div class="inline">
      <h5>Interval:</h5><h5 id="render-interval-number"></h5>
    </div>
  </div>
  <div class="footer-render-cummulative-time">
    <div class="inline">
      <h5 id="render-cumulative-time">Cummulative Hour(s):</h5>
    </div>
  </div>
  <button disabled="true" class="new-interval-button" type="button"><h5>New Interval</h5></button>
</div>


  <div class="flex-left">
    <div class="inline">
    <button class="see-models-button" type="button"><h5>Physiologic Models</h5></button>
    <button disabled="true" class="csv-data-button" type="button"><h5>View Case Data</h5></button>
    <button class="machine-learning-button" type="button"><h5>A.I. Offline</h5></button>
  </div>
  </div>
  </div>
</footer>
<div class="lower-space"></div>

<modal>
  <div id="modal-1">
    
    <br>
    <h3>About</h3>
    <br>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus exercitationem possimus culpa dicta animi ab soluta magni cupiditate repellat saepe obcaecati quis nesciunt quam, vitae placeat dignissimos neque totam incidunt?</p>
    <h3>About</h3>
    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus exercitationem possimus culpa dicta animi ab soluta magni cupiditate repellat saepe obcaecati quis nesciunt quam, vitae placeat dignissimos neque totam incidunt?</p>
  

    <button class="close-modal-1-button">Close</button>
  </div>

</modal>


<modal>
  <div id="modal-2">

            <!-- now add the graph -->

    <!-- The container for the chart -->
    <div class="center">
      <div id="chart-container"></div>
    </div>

  <div class="graph-key">
    <svg width="300" height="150" xmlns="http://www.w3.org/2000/svg">
      <!-- Draw the solid line -->
      <line x1="20" y1="90" x2="180" y2="20" stroke="rgb(57, 85, 108)" stroke-width="2"/>
      
      <!-- Draw the dotted line -->
      <line x1="20" y1="90" x2="180" y2="55" stroke="rgb(175, 171, 168)" stroke-width="1.5" stroke-dasharray="3,3"/>

         <!-- Draw the dotted line 2 -->
         <line class="machine-learning-key" x1="20" y1="90" x2="180" y2="80" stroke="rgba(250, 10, 10, 0.4)" stroke-width="1.5" stroke-dasharray="3,3"/>

      <!-- Add a point at the start of the solid line -->
       <circle cx="20" cy="90" r="5" fill="rgb(57, 85, 108)" />
      
      <!-- Add a point at the end of the solid line -->
      <circle cx="180" cy="20" r="5" fill="rgb(57, 85, 108)" />
  
      <!-- Add a point at the end of the dotted line -->
      <circle cx="180" cy="55" r="3" fill="rgb(175, 171, 168)"/>

      <!-- Add a point at the end of the SECOND dotted line -->
      <circle class="machine-learning-key" cx="180" cy="80" r="3" fill="rgba(250, 10, 10, 0.4)"/>
  
      <!-- Add text labels for the legend -->
      <text class="small-font" x="193" y="15" fill="rgb(219, 217, 227)">
        <tspan dy="0">Post-Interval</tspan>
        <tspan dx="-5.9em" dy="1.2em">Measured Sodium</tspan>
      </text>
      <text class="small-font" x="193" y="50" fill="rgb(219, 217, 227)">
        <tspan dy="0">Post-Interval</tspan>
        <tspan dx="-5.9em" dy="1.2em">Predicted Sodium</tspan>
       </text>

       <text class="small-font machine-learning-key" x="193" y="85" fill="rgb(219, 217, 227)">
        <tspan dy="0">Machine Learning</tspan>
        <tspan dx="-8.2em" dy="1.2em">Predicted Sodium</tspan>
       </text>

      <text class="small-font" x="0" y="110" fill="rgb(219, 217, 227)">
        <tspan dy="0">Pre-Interval</tspan>
        <tspan dx="-5.5em" dy="1.2em">Sodium</tspan>
      </text>
   
      <!-- hidden line for height -->
      <line x1="20" y1="40" x2="180" y2="-20" stroke="rgba(57, 85, 108, 0.0)" stroke-width="0"/>
   
    </svg>
  </div>

    <!-- <div class="csv-data-class"> -->
      <p hidden="true" id="csv-data"></p>
    <!-- </div> -->

    <div class="line-key"></div>
    <div class="dotted-line-key"></div>

      <p><strong>Baseline Characteristics</strong></p>

      <p id="baseline-case-data"></p>

    <!-- TODO: add random case number using Date.now() which will show up for each case and carry forward as an identifier -->

    <p><strong>Interval Data Table</strong></p>
    <div id="data-table-container" class="data-table-container"></div>

    <button class="close-modal-2-button">Close</button>

  </div>


</modal>

<div class="low-width-div">
<h3 class="increase-width-text">Increase width of browser to view calculator</h3>


<br>
<br>

<h3 class="increase-width-text">Not currently optimized for mobile devices</h3>
</div>

<br>


</body>
</html>